import{a as C}from"./chunk-ASF2U23D.js";import"./chunk-4PTIEP3X.js";import{a as h}from"./chunk-VFFMNKEZ.js";import{b as x}from"./chunk-R7MXNWAB.js";import{n as E,u as b}from"./chunk-4KVER4QO.js";import{Bb as g,Gb as D,La as v,Oa as s,R as u,Sb as a,Tb as l,Ub as p,W as n,Za as f,vb as o,wb as r,xb as m}from"./chunk-TYF7JRNT.js";import"./chunk-4CLCTAJ7.js";var c=class d{httpClient=n(E);getProductDetails(t){return this.httpClient.get(`${x.baseUrl}products/${t}`)}static \u0275fac=function(e){return new(e||d)};static \u0275prov=u({token:d,factory:d.\u0275fac,providedIn:"root"})};var S=class d{activatedRoute=n(b);productDetailsServices=n(c);cartService=n(h);toastrService=n(C);id=null;productDtails={};ngOnInit(){this.getProductId(),this.getProductDetailsData()}getProductId(){this.activatedRoute.paramMap.subscribe({next:t=>{this.id=t.get("id")}})}getProductDetailsData(){this.productDetailsServices.getProductDetails(this.id).subscribe({next:t=>{console.log(t),this.productDtails=t.data},error:t=>{console.log(t)}})}addProductItemToCart(t){this.cartService.addProductToCart(t).subscribe({next:e=>{console.log(e),this.cartService.countNumber.set(e.numOfCartItems),console.log(this.cartService.countNumber),e.status==="success"&&this.toastrService.success(e.message,"Fresh Card ")},error:e=>{console.log(e)}})}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=f({type:d,selectors:[["app-details"]],decls:22,vars:7,consts:[[1,"py-14"],[1,"theContainer"],[1,"text-center","text-5xl","mb-4"],[1,"gridsm:drid-cols-12","flex","items-center","gap-4"],[1,"col-span-3"],[1,"w-100",3,"src","alt"],[1,"col-span-9"],[1,"text-2xl"],[1,"text-gray-700","text-sm","my-2"],[1,"flex","items-center","justify-between","gap-2","mt-2"],[1,"flex"],[1,"fas","fa-star","text-yellow-500"],[1,"btn","mt-2",3,"click"]],template:function(e,i){e&1&&(o(0,"section",0)(1,"div",1)(2,"h1",2),a(3,"Details Products:"),r(),o(4,"div",3)(5,"div",4),m(6,"img",5),r(),o(7,"div",6)(8,"h2",7),a(9),r(),o(10,"p",8),a(11),r(),o(12,"span"),a(13),r(),o(14,"div",9)(15,"span"),a(16),r(),o(17,"span",10),m(18,"i",11),a(19),r()(),o(20,"button",12),D("click",function(){return i.addProductItemToCart(i.productDtails._id)}),a(21,"Add To Cart"),r()()()()()),e&2&&(s(6),g("src",i.productDtails.imageCover,v)("alt",i.productDtails.title),s(3),l(i.productDtails.title),s(2),l(i.productDtails.description),s(2),l(i.productDtails.category.name),s(3),p("",i.productDtails.price,"EGP"),s(3),p(" ",i.productDtails.ratingsAverage))},encapsulation:2})};export{S as DetailsComponent};
