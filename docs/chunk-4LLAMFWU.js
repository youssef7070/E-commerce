import{a as I}from"./chunk-VFFMNKEZ.js";import"./chunk-R7MXNWAB.js";import{i as k,x as D}from"./chunk-4KVER4QO.js";import{$b as y,Ab as S,Fb as f,Hb as g,La as _,Oa as a,Sb as o,Tb as s,W as x,Za as v,aa as p,ba as u,ec as w,fc as E,pb as b,qb as h,rb as C,sb as n,tb as t,ub as d}from"./chunk-TYF7JRNT.js";import"./chunk-4CLCTAJ7.js";var V=c=>["/checkout",c],F=(c,i)=>i.product._id;function L(c,i){if(c&1){let e=S();n(0,"div",6)(1,"div",11),d(2,"img",12),t(),n(3,"div",13)(4,"div")(5,"h3"),o(6),t(),n(7,"div",14)(8,"div",15)(9,"button",16),f("click",function(){let l=p(e).$implicit,m=g();return u(m.updateCount(l.product._id,l.count-1))}),d(10,"i",17),t(),n(11,"span"),o(12),t(),n(13,"button",16),f("click",function(){let l=p(e).$implicit,m=g();return u(m.updateCount(l.product._id,l.count+1))}),d(14,"i",18),t()(),n(15,"button",16),f("click",function(){let l=p(e).$implicit,m=g();return u(m.removeItem(l.product._id))}),d(16,"i",19),t()()(),n(17,"span"),o(18),w(19,"currency"),t()()()}if(c&2){let e=i.$implicit;a(2),C("src",e.product.imageCover,_)("alt",e.product.title),a(4),s(e.product.title),a(6),s(e.count),a(6),s(E(19,5,e.price))}}var T=class c{cartService=x(I);cartDetails={};ngOnInit(){this.getLoggedUserData()}getLoggedUserData(){this.cartService.getLoggedUserCart().subscribe({next:i=>{console.log(i.data),this.cartDetails=i.data},error:i=>{console.log(i)}})}removeItem(i){this.cartService.removeSpecificCartItem(i).subscribe({next:e=>{console.log(e),this.cartDetails=e.data},error:e=>{console.log(e)}})}updateCount(i,e){this.cartService.updateCartCount(i,e).subscribe({next:r=>{console.log(r),this.cartService.countNumber.set(r.numOfCartItems),this.cartDetails=r.data},error:r=>{console.log(r)}})}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=v({type:c,selectors:[["app-cart"]],decls:20,vars:5,consts:[[1,"bg-gray-200","py-4"],[1,"theContainer","grid","sm:grid-cols-12","gap-10","justify-center"],[1,"col-span-8","rounded-lg","shadow","p-3"],[1,"flex","items-center","space-x-4"],[1,"text-3xl"],[1,"text-orange-700"],[1,"bg-white","p-2","rounded","shadow","my-2","grid","sm:grid-cols-12"],[1,"col-span-4","bg-white","p-4","h-fit","rounded-lg","shadow"],[1,"text-2xl"],[1,"flex","items-center","justify-between","my-4"],[1,"btn",3,"routerLink"],[1,"col-span-1"],[1,"w-full",3,"src","alt"],[1,"col-span-11","flex","items-center","justify-between"],[1,"flex","items-center","space-x-6","my-3"],[1,"bg-gray-200","border","rounded-lg","flex","items-center","space-x-4","py-1","px-2"],[1,"cursor-pointer",3,"click"],[1,"fas","fa-minus"],[1,"fas","fa-plus"],[1,"fas","fa-trash-can"]],template:function(e,r){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),o(5,"Cart"),t(),n(6,"span",5),o(7),t()(),b(8,L,20,7,"div",6,F),t(),n(10,"div",7)(11,"h2",8),o(12,"Order Summary"),t(),n(13,"div",9)(14,"h3"),o(15,"price"),t(),n(16,"h4"),o(17),t()(),n(18,"button",10),o(19,"Procee To CheckOut"),t()()()()),e&2&&(a(7),s(r.cartDetails.products.length),a(),h(r.cartDetails.products),a(9),s(r.cartDetails.totalCartPrice),a(),C("routerLink",y(3,V,r.cartDetails._id)))},dependencies:[D,k],encapsulation:2})};export{T as CartComponent};
