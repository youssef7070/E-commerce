import { a as T } from "./browser/chunk-WJHGVGB3.js"; import { a as E } from "./chunk-73SG3KBM.js"; import { b as p, d as V, f as F, h as k, j as G, l as I } from "./chunk-4OH2CZKK.js"; import { a as P } from "./browser/chunk-R7MXNWAB.js"; import { w as _ } from "./chunk-4KVER4QO.js"; import { Ab as g, Fb as x, Hb as d, Oa as a, Qb as w, Sb as n, W as c, Za as C, aa as f, ba as v, ca as b, da as y, nb as h, ob as S, rb as l, sb as t, tb as o, ub as m } from "./chunk-TYF7JRNT.js"; import "./chunk-4CLCTAJ7.js"; function N(i, r) { if (i & 1) { let e = g(); t(0, "form", 11), x("ngSubmit", function () { f(e); let u = d(); return v(u.formStep1()) }), m(1, "app-input", 12), t(2, "button", 13), n(3, "Verfiy Email"), o()() } if (i & 2) { let e = d(); l("formGroup", e.verifyEmail), a(), l("control", e.verifyEmail.get("email"))("type", "email")("lableInput", "Email")("id", "email") } } function j(i, r) { if (i & 1) { let e = g(); t(0, "form", 11), x("ngSubmit", function () { f(e); let u = d(); return v(u.formStep2()) }), m(1, "app-input", 12), t(2, "button", 13), n(3, "Verfiy Code"), o()() } if (i & 2) { let e = d(); l("formGroup", e.verifyCode), a(), l("control", e.verifyCode.get("resetCode"))("type", "text")("lableInput", "resetCode")("id", "resetCode") } } function q(i, r) { if (i & 1) { let e = g(); t(0, "form", 11), x("ngSubmit", function () { f(e); let u = d(); return v(u.formStep3()) }), m(1, "app-input", 12)(2, "app-input", 14), t(3, "button", 13), n(4, "resetPassword"), o()() } if (i & 2) { let e = d(); l("formGroup", e.resetPassword), a(), l("control", e.resetPassword.get("email"))("type", "email")("lableInput", "Email")("id", "email"), a(), l("control", e.resetPassword.get("newPassword"))("lableInput", "newPassword")("id", "newPassword") } } var M = class i { fb = c(G); authServiceService = c(E); cookieService = c(P); router = c(_); verifyEmail; verifyCode; resetPassword; step = 1; ngOnInit() { this.initForm() } initForm() { this.verifyEmail = this.fb.group({ email: [null, [p.required, p.email]] }), this.verifyCode = this.fb.group({ resetCode: [null, [p.required]] }), this.resetPassword = this.fb.group({ email: [null, [p.required, p.email]], newPassword: [null, [p.required, p.pattern(/^\w{6,}$/)]] }) } formStep1() { this.verifyEmail.valid && this.authServiceService.submitVerifyEmail(this.verifyEmail.value).subscribe({ next: r => { console.log(r), this.step = 2, this.resetPassword.get("email")?.setValue(this.verifyEmail.get("email")?.value) } }) } formStep2() { this.verifyCode.valid && this.authServiceService.submitVerifyCode(this.verifyCode.value).subscribe({ next: r => { console.log(r), this.step = 3 } }) } formStep3() { this.resetPassword.valid && this.authServiceService.submitResetPassword(this.resetPassword.value).subscribe({ next: r => { console.log(r), this.cookieService.set("token", r.token), this.router.navigate(["/home"]) } }) } static \u0275fac = function (e) { return new (e || i) }; static \u0275cmp = C({ type: i, selectors: [["app-forget-password"]], decls: 24, vars: 7, consts: [[1, "bg-gray-200", "my-14", "p-10", "md:w-1/2", "m-auto"], [1, "theContainer"], [1, "flex", "items-center", "w-full", "p-3", "space-x-2", "text-sm", "font-medium", "text-center", "text-gray-500", "border", "rounded-lg", "shadow-xs", "dark:text-gray-400", "sm:text-base", "bg-gray-800", "dark:bg-gray-800", "dark:border-gray-700", "sm:p-4", "sm:space-x-4", "rtl:space-x-reverse"], [1, "flex", "items-center", "dark:text-blue-500"], [1, "flex", "items-center", "justify-center", "w-5", "h-5", "me-2", "text-xs", "border", "rounded-full", "shrink-0", "dark:border-blue-500"], [1, "hidden", "sm:inline-flex", "sm:ms-2"], ["aria-hidden", "true", "xmlns", "http://www.w3.org/2000/svg", "fill", "none", "viewBox", "0 0 12 10", 1, "w-3", "h-3", "ms-2", "sm:ms-4", "rtl:rotate-180"], ["stroke", "currentColor", "stroke-linecap", "round", "stroke-linejoin", "round", "stroke-width", "2", "d", "m7 9 4-4-4-4M1 9l4-4-4-4"], [1, "flex", "items-center"], [1, "flex", "items-center", "justify-center", "w-5", "h-5", "me-2", "text-xs", "border", "border-gray-500", "rounded-full", "shrink-0", "dark:border-gray-400"], [3, "formGroup"], [3, "ngSubmit", "formGroup"], [3, "control", "type", "lableInput", "id"], [1, "btn"], [3, "control", "lableInput", "id"]], template: function (e, s) { e & 1 && (t(0, "section", 0)(1, "div", 1)(2, "ol", 2)(3, "li", 3)(4, "span", 4), n(5, " 1 "), o(), n(6, " Verify Email "), m(7, "span", 5), b(), t(8, "svg", 6), m(9, "path", 7), o()(), y(), t(10, "li", 8)(11, "span", 9), n(12, " 2 "), o(), n(13, " Verify Code"), m(14, "span", 5), b(), t(15, "svg", 6), m(16, "path", 7), o()(), y(), t(17, "li", 8)(18, "span", 9), n(19, " 3 "), o(), n(20, " reset Password "), o()(), h(21, N, 4, 5, "form", 10)(22, j, 4, 5, "form", 10)(23, q, 5, 8, "form", 10), o()()), e & 2 && (a(3), w("text-blue-600", s.step === 1), a(7), w("text-blue-600", s.step === 2), a(7), w("text-blue-600", s.step === 3), a(4), S(s.step === 1 ? 21 : s.step === 2 ? 22 : s.step === 3 ? 23 : -1)) }, dependencies: [I, F, V, k, T], encapsulation: 2 }) }; export { M as ForgetPasswordComponent };
