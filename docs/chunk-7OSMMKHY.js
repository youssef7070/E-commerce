import { a as S } from "./chunk-WJHGVGB3.js"; import { b as p, d as b, f as C, h as F, j as k, l as O } from "./chunk-4OH2CZKK.js"; import { a as v } from "./chunk-VFFMNKEZ.js"; import "././browser/chunk-VFFMNKEZ.jsimport{u as y}from"./chunk-4KVER4QO.js";import{Fb as f,Oa as n,Sb as l,W as a,Za as g,rb as o,sb as t,tb as r,ub as s}from"./chunk - TYF7JRNT.js";import"./ chunk - 4CLCTAJ7.js";var I=class./browser/chunk-TYF7JRNT.jsdRoute=a(y);cartService=a(v);checkOutForm;id=null;ngOnInit(){this.initForm(),this.getCardId()}initForm(){this.checkOutForm=this.fb.group({shippingAddress:this.fb.group({details:[null,[p.required]],phone:[null,[p.required,p.pattern(/^01[0125][0-9]{8}$/)]],city:[null,[p.required]]})})}getCardId(){this.activatedRoute.paramMap.subscribe({next:e=>{this.id=e.get("id")}})}submitForm(){this.checkOutForm.valid&&this.cartService.checkOutSession(this.id,this.checkOutForm.value).subscribe({next:e=>{console.log(e),e.status==="success"&&window.open(e.session.url,"_self")},error:e=>{console.log(e)}})}static \u0275fac=function(m){return new(m||c)};static \u0275cmp=g({type:c,selectors:[["app - checkout"]],decls:13,vars:15,consts:[[1,"bg - gray - 200","p - 10","my - 14","md: w - 1 / 2","mx - auto","shadow"],[1,"text - center","text - 4xl","my - 3"],[3,"ngSubmit","formGroup"],[3,"element","control","id","lableInput"],[3,"element","control","id","lableInput","type"],[1,"flex","items - center","space - x - 10"],[1,"btn"]],template:function(m,i){if(m&1&&(t(0,"section",0)(1,"h1",1),l(2,"CheckOut"),r(),t(3,"form",2),f("ngSubmit",function(){return i.submitForm()}),s(4,"app - input",3),t(5,"app - input",4),l(6," Accept Only Egypt Phone Numbers "),r(),s(7,"app - input",4),t(8,"div",5)(9,"button",6),l(10,"Payment By Visa"),r(),t(11,"button",6),l(12,"Payment By Cash"),r()()()()),m&2){let u,d,h;n(3),o("formGroup",i.checkOutForm),n(),o("element","text")("control",(u=i.checkOutForm.get("shippingAddress"))==null?null:u.get("details"))("id","details")("lableInput","Details"),n(),o("element","input")("control",(d=i.checkOutForm.get("shippingAddress"))==null?null:d.get("phone"))("id","phone")("lableInput","Phone")("type","tel"),n(2),o("element","input")("control",(h=i.checkOutForm.get("shippingAddress"))==null?null:h.get("city"))("id","city")("lableInput","City")("type","text")}},dependencies:[O,C,b,F,S],encapsulation:2})};export{I as CheckoutComponent};
